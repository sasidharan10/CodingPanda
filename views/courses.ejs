<% layout('./layouts/boilerplate') -%>
<link rel="stylesheet" href="../static/css/styleCourses.css">
<title>About US</title>

<section id="coursesIntroSection">
    <% if(success && success.length){%>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <%=success %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% }%>
    <% if(error && error.length){%>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <%=error %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% }%>
    <div class="coursesIntroBody">
        <div class="coursesIntroContent">
            <h1>Online Coding Courses</h1>
            <p>Most loved online coding courses for college students and working professionals</p>
        </div>
        <div class="coursesButtons">
            <a class="btn btn-light" href="#coursesContentSection">Browse Popular Courses</a>
        </div>
    </div>
</section>
<section id="coursesContentSection">
    <div class="coursesContentSectionTitle">
        <h1>Explore our courses</h1>
    </div>
    <div class="coursesContentBody">
        <% if(coursesData.length === 0){ %>
        <div class="alert alert-info" role="alert">
            No Courses Currently Available, Please come Back Later.
        </div>
        <% }else{for (const it of coursesData) { %>
        <div class="courseBox">
            <div class="courseHeader">
                <div class="courseImage">
                    <img src="<%= it.thumbnail%>" alt="DSA Logo">
                </div>
                <div class="courseTitle">
                    <h2><%= it.courseTitle%></h2>
                </div>
            </div>
            
            <div class="courseBoxContent">
                <div class="courseDescription">
                    <p><%= it.summary%></p>
                </div>
                <div class="courseInstructor">
                    <img class="descIcon" src="../static/img/logo/tutor.png" alt="Tutor Image">
                    <h3><%= it.instructor.instructorName%></h3>
                </div>
                <div class="courseTime">
                    <img class="descIcon" src="../static/img/logo/timeline.svg" alt="time image">
                    <h3><%= it.duration.hours%>hrs+</h3>
                </div>
                <!-- <div class="courseReview">
                    <h3>4.8</h3>
                    <img src="../static/img/logo/4-8-star.png" alt="review image">
                    <p>(2K+ students)</p>
                </div> -->
            </div>
            <div class="d-flex flex-row justify-content-center w-100">
                <% if( currentUser && alreadyEnrolled.find((temp) => temp.course.equals(it._id))){ %>
                <a href="/coursePage/<%= it._id%>" class="btn btn-success btn-custom mx-2 my-3" role="button">Watch Now</a>
                <a href="courses/<%= it._id%>" class="btn btn-info btn-custom mx-2 my-3" role="button">View Course</a>
                <%}else{%>
                <a href="courses/<%= it._id%>" class="btn btn-info btn-custom mx-2 my-3" role="button">Enroll Now</a>
                <% } %>
            </div>
        </div>
        <% }} %>
    </div>
</section>