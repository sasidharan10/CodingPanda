<% layout('./layouts/boilerplate') -%>

<link rel="stylesheet" href="../static/css/styleEditUser.css">
<title>Edit your profile</title>

<section id="editUserIntroSection">
    <div class="d-flex flex-row justify-content-center w-100 mt-3 mx-3">
        <% if(success && success.length){%>
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <%=success %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <% }%>
        <% if(error && error.length){%>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <%=error %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <% }%>
    </div>
    <div class="editUserTitle">
        <h1>User Details</h1>
    </div>
    <form class="registerForm col-xl-3 col-lg-4 col-md-6 col-sm-8 col-10 validated-form"
        action="/profileUpdate/<%=currentUser._id%>?_method=PUT" method="post" novalidate>
        <div class="row">
            <div class="col mb-3">
                <label for="firstName" class="mb-2">First Name</label>
                <input type="text" class="form-control" placeholder="First name" id="firstName" name="firstName"
                    value="<%= userData.firstName %>" required>
                <div class="valid-feedback">
                    Looks good!
                </div>
                <div class="invalid-feedback">
                    Please enter your First name.
                </div>
            </div>
            <div class="col mb-3">
                <label for="lastName" class="mb-2">Last Name</label>
                <input type="text" class="form-control" placeholder="Last name" id="lastName" name="lastName"
                    value="<%= userData.lastName %>">
                <div class="valid-feedback">
                    Looks good!
                </div>
            </div>
        </div>
        <div class="form-group mb-3">
            <label for="email" class="mb-2">Email address</label>
            <input type="email" class="form-control" id="email" placeholder="Enter email" name="email"
                value="<%= userData.email %>" required>
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please enter valid E-mail.
            </div>
        </div>
        <div class="form-group mb-3">
            <label for="country" class="mb-2">Country</label>
            <input type="text" class="form-control" id="country" placeholder="Enter country" name="country"
                value="<%= userData.country %>">
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please enter valid E-mail.
            </div>
        </div>
        <div class="form-group mb-3">
            <label for="college" class="mb-2">College</label>
            <input type="text" class="form-control" id="college" placeholder="Enter college" name="college"
                value="<%= userData.college %>">
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please enter valid E-mail.
            </div>
        </div>
        <div class="form-group mb-3">
            <label for="github" class="mb-2">Github Username</label>
            <input type="text" class="form-control" id="github" placeholder="Enter github username" name="github"
                value="<%= userData.github %>">
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please enter valid E-mail.
            </div>
        </div>
        <div class="form-group mb-3">
            <label for="leetcode" class="mb-2">Leetcode Username</label>
            <input type="text" class="form-control" id="leetcode" placeholder="Enter leetcode username" name="leetcode"
                value="<%= userData.leetcode %>">
            <div class="valid-feedback">
                Looks good!
            </div>
            <div class="invalid-feedback">
                Please enter valid E-mail.
            </div>
        </div>
        <div class="d-flex flex-row justify-content-center w-100 mb-4">
            <button type="submit" class="btn btn-success mx-2 w-50">Update Profile</button>
            <a href="/profile/<%=currentUser._id%>" class="btn btn-secondary mx-2 w-50" role="button">Cancel</a>
        </div>
    </form>
</section>
<script src="../static/js/validateForm.js"></script>